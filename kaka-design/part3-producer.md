生产者
=========================================
### 负载均衡
生产者直接向Broker的Leader分区发送数据，无需通过中间层。为了帮助生产者做到这点，所有Kafka节点能够响应一个元数据请求，这个请求包括哪个服务器存活和哪个能够给生产者直接请求的某个topic的Leader分区.

客户端发送消息到哪个分区，这可以是随机，只要实现一种随机的负载均衡，或者它可以通过分区函数来完成。我们暴露了接口来实现分区语义，这允许用户指定一个Key(用这个Key取hash)来实现分区(如果需要你也可以重写)。例如，我们我们选择一个user id作为Key，然后同一个用户所有数据都会发送到同一个分区。这样就允许消费者指定他们的消费，这种分区风格可以明确地允许消息者本地处理。

### 异步发送
批量是其量一种提高效率的重要手段，如果开启Kafka生产者的批量发送功能，生产者会在内存聚集数据然后一次请求发送指数据。批量发送能够配置聚集的消息数据和等待的时间（如 64K 或者 10ms）。这样就可以聚集更多字节然后发送和在服务器上一些大I/O操作。这个buffering是可配的，同时提供了一个机制来在低心和高吞吐之间权衡。

详细的[配置](http://kafka.apache.org/documentation.html#producerconfigs)和生产者的[api](http://kafka.apache.org/082/javadoc/index.html?org/apache/kafka/clients/producer/KafkaProducer.html)可以文档中找到。
